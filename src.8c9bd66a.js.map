{"version":3,"sources":["js/twloader.js","js/math.js","js/ttui.js","index.js"],"names":["TW_APP_VERSION","exports","TW_LoadScriptFromVersion","script","scripts","callback","TW_SeriesLoadScripts","APP_VERSION","_typeof","Array","isArray","length","HEAD","document","getElementsByTagName","item","documentElement","s","last","recursiveLoad","i","createElement","setAttribute","onload","onreadystatechange","parentNode","removeChild","indexOf","Math","random","appendChild","TW_AddLoadEvent","func","oldonload","window","RandomInt","min","max","span","floor","GetRandQueueInRange","n","arr","num1","push","GetRandQueue","array","size","random1","res","array2","_toConsumableArray","splice","UIBase","params","_classCallCheck","divBg","htmlObj","text","_createClass","key","value","$T","Create","Attribute","ClassN","Add","Del","prototype","tagname","el","parent","body","append","e","k","v","classname","className","Html","txt","innerHTML","Click","that","cb","addEventListener","ev","preventDefault","bind","TextBox","_UIBase","_inherits","_super","_createSuper","_this","call","Button","_UIBase2","_super2","_this2","btnRun","console","log","ImagePanel","_UIBase3","_super3","_this3","canvas","ctx","width","height","getContext","save","beginPath","lineWidth","strokeStyle","moveTo","lineTo","stroke","restore","img0","imgObj","Image","src","drawImage","imgData0","putImageData","toDataURL","Dialog","_UIBase4","_super4","_this4","divForm","_this5","_get","_getPrototypeOf","divTitle","btnClose","tb1","divButtons","butOk","click","btnOk","butCancel","btnCancel","Close","Toast","_UIBase5","_super5","_this6","style","_","_interopRequireDefault","require","_qr","_twloader","_math","_ttui","obj","__esModule","default","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","r","l","t","Symbol","iterator","u","a","f","o","next","Object","done","return","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","minLen","_arrayLikeToArray","toString","slice","constructor","name","from","test","iter","len","arr2","TT","game","Start","m_DictSelf","m_DictPlus","m_DictMinus","m_DictOptr","getElementById","SetupBtnClick","CreateA4","SetupCanvas","dpr","devicePixelRatio","rect","getBoundingClientRect","scale","btnName","WriteTextsH","arr1","x","y","hei","tbWid","x2","oTxt","WriteText","str1","fontHei","font","fillStyle","fillText","h","m_hard","m_mode","m_move","hard","mode","move","toastDlg","Show","fillRect","DrawOneLine","DrawImage","pngQr","ShowImageDlg","idx","arrOut","GenerationFormulaA","GenerationFormulaTwo","x0","y0","arrNew","CreateAfterFormula","DrawFormula","numMax","numA","numAA","SplitNumber","numB","numBB","numCC","concat","numC","oper","numD","numDD","numEE","forEach","parseInt","theArr","arrIdx","flag","j","MoveOneMatchStick","iModes","iMode","includes","iNums","DrawX","DrawY","Width","DrawWidth","DrawHeight","iNum","_GetPngPosition2","GetPngPosition","iPosX1","iWidth1","DrawFormulaImage","png1","_TT$ctx","apply","strImg","title"],"mappings":"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","file":"src.8c9bd66a.js","sourceRoot":"..\\src","sourcesContent":["export var TW_APP_VERSION = null;\r\nexport function TW_LoadScriptFromVersion(script, scripts, callback){\r\n    TW_SeriesLoadScripts([script], ()=>{\r\n        TW_APP_VERSION = APP_VERSION;\r\n        TW_SeriesLoadScripts(scripts, ()=>{\r\n            if(typeof(callback) == \"function\") callback();\r\n        })\r\n    })\r\n}\r\n\r\nexport function TW_SeriesLoadScripts(scripts,callback) {\r\n    if(typeof(scripts) != \"object\") var scripts = [scripts];\r\n    if(Array.isArray(scripts) && scripts.length == 0){\r\n        if(typeof(callback) == \"function\") callback();\r\n        return;\r\n    }\r\n    var HEAD = document.getElementsByTagName(\"head\").item(0) || document.documentElement;\r\n    var s = new Array(), last = scripts.length - 1, recursiveLoad = function(i) {  \r\n        s[i] = document.createElement(\"script\");\r\n        s[i].setAttribute(\"type\",\"text/javascript\");\r\n        s[i].onload = s[i].onreadystatechange = function() { \r\n            if(!/*@cc_on!@*/0 || this.readyState == \"loaded\" || this.readyState == \"complete\") {\r\n                this.onload = this.onreadystatechange = null; this.parentNode.removeChild(this); \r\n                if(i != last) recursiveLoad(i + 1); else if(typeof(callback) == \"function\") callback();\r\n            }\r\n        }\r\n        if (scripts[i].indexOf('?') > -1) {\r\n            s[i].setAttribute(\"src\",scripts[i]+'&timestamp=' + (TW_APP_VERSION || Math.random()));\r\n        }else{\r\n            s[i].setAttribute(\"src\",scripts[i]+'?timestamp=' + (TW_APP_VERSION || Math.random()));\r\n        }\r\n        HEAD.appendChild(s[i]);\r\n    };\r\n    recursiveLoad(0);\r\n }\r\n\r\n export function TW_AddLoadEvent(func) {\r\n    var oldonload = window.onload;\r\n    if (typeof window.onload != 'function') {\r\n        window.onload = func;\r\n    } else {\r\n        window.onload = function () {\r\n            oldonload();\r\n            func();\r\n        }\r\n    }\r\n}\r\n\r\n ","//生成随机值\r\nfunction RandomInt(min, max) {\r\n    var span = max - min + 1;\r\n    var result = Math.floor(Math.random() * span + min);\r\n    return result;\r\n}\r\n\r\n//在范围内，生成一定数量不重复的随机数\r\nfunction GetRandQueueInRange(n, min, max) {\r\n    let arr = [];\r\n    // 在此处补全代码\r\n    for (let i = 0; i < n; i++) {\r\n        let num1 = RandomInt(min, max);\r\n        if (arr.indexOf(num1) == -1) { //去除重复项\r\n            arr.push(num1);\r\n        }\r\n        else {\r\n            i--;\r\n        }\r\n    }\r\n    return arr;\r\n}\r\n\r\n//生成随机队列\r\nfunction GetRandQueue(array, size) {\r\n    if (!array) {\r\n        array = new Array();\r\n        for (let i = 0; i < size; i++) {\r\n            array[i] = i;\r\n        }\r\n    }\r\n    let res = [], random1;\r\n    let array2 = [...array];\r\n    while (array2.length > 0 && res.length <= size) {\r\n        random1 = Math.floor(Math.random() * array2.length);\r\n        res.push(array2[random1]);\r\n        array2.splice(random1, 1);\r\n    }\r\n    return res;\r\n}\r\n\r\nexport {\r\n    RandomInt,\r\n    GetRandQueueInRange,\r\n    GetRandQueue\r\n}","class UIBase {\r\n    constructor(params) {\r\n        this.divBg = null;\r\n        this.htmlObj = null;\r\n        this.params = params || {\r\n            text: '...'\r\n        };\r\n    }\r\n\r\n    Show() {\r\n        //1.创建div节点\r\n        this.divBg = $T.Create();\r\n        //遮罩\r\n        $T.Attribute(this.divBg, \"id\", \"divBg\");\r\n        $T.ClassN(this.divBg, 'graybg');\r\n        $T.Add(this.divBg);\r\n    }\r\n\r\n    Close() {\r\n        $T.Del(this.divBg);\r\n    }\r\n}\r\n\r\n//create\r\nUIBase.prototype.Create = function (tagname) {\r\n    return document.createElement(tagname || \"div\");\r\n}\r\n\r\n//append\r\nUIBase.prototype.Add = function (el, parent) {\r\n    parent = parent || document.body;\r\n    if (el instanceof UIBase) {\r\n        parent.append(el.htmlObj);\r\n    } else {\r\n        parent.append(el);\r\n    }\r\n\r\n}\r\n\r\n//Attribute\r\nUIBase.prototype.Attribute = function (e, k, v) {\r\n    e.setAttribute(k, v);\r\n}\r\n\r\n//className\r\nUIBase.prototype.ClassN = function (el, classname) {\r\n    if (el instanceof UIBase) {\r\n        el.htmlObj.className += classname + \" \";\r\n    } else {\r\n        el.className += classname + \" \";\r\n    }\r\n\r\n}\r\n\r\n//delete\r\nUIBase.prototype.Del = function (el) {\r\n    if (el) {\r\n        let parent1 = el.parentNode;//获取父对象\r\n        parent1.removeChild(el);//通过父对象把它删除\r\n    }\r\n}\r\n\r\nUIBase.prototype.Html = function (e, txt) {\r\n    e.innerHTML = txt;\r\n}\r\n\r\nUIBase.prototype.Click = function (e, that, cb) {\r\n    e.addEventListener(\"click\", function (ev) {\r\n        ev.preventDefault();\r\n        if (typeof cb == \"function\") {\r\n            cb.bind(that)();\r\n        } else if (typeof cb == \"string\") {\r\n            that[cb]();\r\n        }\r\n    }, false);\r\n}\r\n\r\nvar $T = new UIBase();\r\n\r\n//TextBox\r\nclass TextBox extends UIBase {\r\n    constructor(params) {\r\n        super(params);\r\n        this.Create();\r\n    }\r\n\r\n    //创建按钮\r\n    Create() {\r\n        //button\r\n        this.htmlObj = $T.Create();\r\n        $T.ClassN(this.htmlObj, \"textbox\");\r\n        $T.Html(this.htmlObj, this.params[\"text\"] || \"...\");\r\n    }\r\n}\r\n\r\n//按钮\r\nclass Button extends UIBase {\r\n    constructor(params) {\r\n        super(params);\r\n        this.Create();\r\n    }\r\n\r\n    //创建按钮\r\n    Create() {\r\n        //button\r\n        this.htmlObj = $T.Create();\r\n        $T.ClassN(this.htmlObj, \"button\");\r\n        $T.Html(this.htmlObj, this.params[\"text\"] || \"but\");\r\n        $T.Click(this.htmlObj, this, this.params[\"click\"] || this.btnRun);\r\n    }\r\n\r\n    btnRun() {\r\n        console.log(\"ui button\")\r\n    }\r\n}\r\n\r\n//画布 image panel\r\nclass ImagePanel extends UIBase {\r\n    constructor(params) {\r\n        super(params);\r\n        this.canvas = null;\r\n        this.ctx = null;\r\n        this.width = this.params[\"width\"] || 300;\r\n        this.height = this.params[\"height\"] || 100;\r\n        //创建\r\n        this.Create();\r\n    }\r\n\r\n    Create() {\r\n        this.htmlObj = $T.Create(\"canvas\");\r\n        this.canvas = this.htmlObj;\r\n        $T.ClassN(this.canvas, \"imagepanel\");\r\n        // this.canvas.width = this.width;\r\n        //this.canvas.height = this.height;\r\n        this.ctx = this.canvas.getContext(\"2d\");\r\n\r\n        //this.DrawL();\r\n    }\r\n\r\n    //测试绘制直线\r\n    DrawL() {\r\n        this.ctx.save(); //保存状态\r\n        this.ctx.beginPath();\r\n        this.ctx.lineWidth = 2;\r\n        this.ctx.strokeStyle = \"red\";\r\n        this.ctx.moveTo(0, 0);\r\n        this.ctx.lineTo(this.canvas.width, this.canvas.height);\r\n        this.ctx.stroke();\r\n\r\n        this.ctx.restore(); //恢复画布状态\r\n    }\r\n    //绘制图片\r\n    DrawImage(img0) {\r\n        let that = this;\r\n        let imgObj = new Image();\r\n        imgObj.src = img0;\r\n        imgObj.onload = function () {\r\n            that.ctx.drawImage(imgObj, 0, 0);\r\n        }\r\n    }\r\n    //复制来自其它canvas.ctx的区域\r\n    DrawImageData(imgData0) {\r\n        //putImageData用于将图像数据重写至Canvas画布\r\n        this.ctx.putImageData(imgData0, 0, 0);\r\n    }\r\n\r\n    GetPNG() {\r\n        return this.canvas.toDataURL(\"image/png\");\r\n    }\r\n\r\n\r\n}\r\n//对话框\r\nclass Dialog extends UIBase {\r\n    constructor(params) {\r\n        super(params);\r\n        this.divForm = null;\r\n    }\r\n\r\n    //创建对话框\r\n    Show() {\r\n        super.Show();\r\n        //2.创建对话框\r\n        this.divForm = $T.Create();\r\n        //对话框\r\n        $T.Attribute(this.divForm, \"id\", 'dlgForm');\r\n        $T.ClassN(this.divForm, 'ttform');\r\n        //title\r\n        let divTitle = $T.Create();\r\n        $T.ClassN(divTitle, \"title\");\r\n        $T.Html(divTitle, this.params['title'] || \"标题\");\r\n        $T.Add(divTitle, this.divForm);\r\n        //关闭按钮\r\n        let btnClose = $T.Create();\r\n        $T.ClassN(btnClose, 'close');\r\n        $T.Html(btnClose, 'X');\r\n        $T.Click(btnClose, this, \"Close\");\r\n        $T.Add(btnClose, divTitle);\r\n        //content\r\n        if (this.params['content'] instanceof UIBase) {\r\n            $T.ClassN(this.params['content'], \"content\");\r\n            $T.Add(this.params['content'], this.divForm);\r\n        } else {\r\n            let tb1 = new TextBox({ text: this.params['text'] || \"上传中...\" });\r\n            $T.ClassN(tb1, \"content\");\r\n            $T.Add(tb1, this.divForm);\r\n        }\r\n        // let panel1 = new ImagePanel();\r\n        // $T.ClassN(panel1,\"content\");\r\n        // $T.Add(panel1, this.divForm);\r\n\r\n        //buttons\r\n        let divButtons = $T.Create();\r\n        $T.ClassN(divButtons, \"buttons\");\r\n        $T.Add(divButtons, this.divForm);\r\n        //ok button\r\n        let butOk = new Button({\r\n            text: 'Ok', click: (e) => {\r\n                //闭包的作用 传递 this\r\n                this.btnOk();\r\n            }\r\n        });\r\n        $T.Add(butOk, divButtons);\r\n        //cancel button\r\n        let butCancel = new Button({\r\n            text: 'Cancel', click: (e) => {\r\n                this.btnCancel();\r\n            }\r\n        });\r\n        $T.Add(butCancel, divButtons);\r\n        //添加\r\n        $T.Add(this.divForm);\r\n    }\r\n\r\n    Close() {\r\n        super.Close();\r\n        $T.Del(this.divForm);\r\n    }\r\n\r\n    btnOk() {\r\n        this.Close();\r\n    }\r\n\r\n    btnCancel() {\r\n        this.Close();\r\n    }\r\n}\r\n\r\n//提示\r\nclass Toast extends UIBase {\r\n    constructor(params) {\r\n        super(params);\r\n        this.divForm = null;\r\n    }\r\n\r\n    //创建对话框\r\n    Show() {\r\n        super.Show();\r\n        //2.创建对话框\r\n        this.divForm = $T.Create('div');\r\n        //对话框\r\n        $T.Attribute(this.divForm, \"id\", 'dlgForm');\r\n        $T.ClassN(this.divForm, 'ttform');\r\n        $T.Html(this.divForm, this.params['text']);\r\n        this.divForm.style.height = \"100px\";\r\n        this.divForm.style.width = \"200px\";\r\n        //添加\r\n        $T.Add(this.divForm);\r\n    }\r\n\r\n    Close() {\r\n        super.Close();\r\n        $T.Del(this.divForm);\r\n\r\n    }\r\n}\r\n\r\nexport {\r\n    UIBase,\r\n    TextBox,\r\n    Button,\r\n    ImagePanel,\r\n    Dialog,\r\n    Toast\r\n}","import png1 from \"./res/1.png\"\r\nimport pngQr from \"./res/qr.png\"\r\nimport { TW_AddLoadEvent } from \"./js/twloader\"\r\nimport { RandomInt,GetRandQueueInRange, GetRandQueue } from \"./js/math\"\r\nimport {Toast,Dialog} from \"./js/ttui\"\r\n\r\nconst TT = {};\r\nwindow.game = TT;\r\n\r\nTW_AddLoadEvent(Start);\r\n\r\n//游戏规则\r\n//全局参数\r\n//移1根：=0\r\nlet m_DictSelf = { 0: [6, 9], 2: [3], 3: [2, 5], 5: [3], 6: [9, 0],9: [6, 0]};\r\n//加1根：=1\r\nlet m_DictPlus = { 0: [8], 1: [7], 3: [9], 5: [6, 9], 6: [8], 9: [8] };\r\n//减1根：=2\r\nlet m_DictMinus = { 6: [5], 7: [1], 8: [9, 6, 0], 9: [5, 3],10:[11]};\r\n\r\n//每个数字所能操作的对照表\r\nlet m_DictOptr = {0:[0,1],1:[1],2:[0],3:[0,1],4:[],5:[0,1],6:[0,1,2],7:[2],8:[2],9:[0,1,2],10:[2],11:[],12:[]};\r\n\r\n//////////////////////\r\n//程序入口\r\n////////////////////\r\nfunction Start() {\r\n    TT.canvas = document.getElementById(\"board\");\r\n    TT.ctx = TT.canvas.getContext(\"2d\");\r\n    TT.width = TT.canvas.width;\r\n    TT.height = TT.canvas.height;\r\n\r\n    //添加事件\r\n    SetupBtnClick('btn1',()=>{CreateA4(1);});\r\n    SetupBtnClick('btn2',()=>{CreateA4(2);});\r\n    SetupBtnClick('btn3',()=>{CreateA4(1,2);});\r\n    SetupBtnClick('btn4',()=>{CreateA4(1,1,2);});\r\n    SetupBtnClick('btn5',()=>{CreateA4(2,1,2);});\r\n    SetupBtnClick('btn6',()=>{CreateA4(1,2,2);});\r\n}\r\n\r\nfunction SetupCanvas(canvas) {\r\n    // Get the device pixel ratio, falling back to 1.\r\n    var dpr = window.devicePixelRatio || 1;\r\n    // Get the size of the canvas in CSS pixels.\r\n    var rect = canvas.getBoundingClientRect();\r\n    // Give the canvas pixel dimensions of their CSS\r\n    // size * the device pixel ratio.\r\n    canvas.width = rect.width * dpr;\r\n    canvas.height = rect.height * dpr;\r\n    var ctx = canvas.getContext('2d');\r\n    // Scale all drawing operations by the dpr, so you\r\n    // don't have to worry about the difference.\r\n    ctx.scale(dpr, dpr);\r\n    return ctx;\r\n}\r\n\r\nfunction SetupBtnClick(btnName, cb){\r\n    document.getElementById(btnName).addEventListener('click', cb);;  \r\n}\r\n\r\n//成行显示\r\nfunction WriteTextsH(arr1, x, y, hei, scale) {\r\n    let tbWid = 0;\r\n    let x2 = x;\r\n    let arr2 = [];\r\n    for (let i = 0; i < arr1.length; ++i) {\r\n        x2 = x2 + tbWid;\r\n        let oTxt = WriteText(arr1[i], x2, y, hei, scale);\r\n        //计算宽度\r\n        tbWid = arr1[i].length * hei * 0.8;\r\n        arr2.push(oTxt);\r\n    }\r\n\r\n    return arr2;\r\n}\r\n\r\n//绘制题目\r\nfunction WriteText(str1, x, y, hei, scale) {\r\n    scale = scale || 60;\r\n    let fontHei = hei * scale + \"px\";\r\n    TT.ctx.font = \"normal \" + fontHei + \" Arial\";\r\n    TT.ctx.fillStyle = \"#000000\";\r\n    TT.ctx.fillText(str1, x * scale, y * scale);\r\n\r\n    return { txt: str1, x: x, y: y, h: hei, s: scale };\r\n}\r\n\r\nvar m_hard = 1;\r\nvar m_mode = 1;\r\nvar m_move = 1;   //移动次数\r\n//生成题目\r\nfunction CreateA4(hard,mode,move){\r\n    m_hard = hard;\r\n    m_mode = mode || 1;\r\n    m_move = move || 1;\r\n    var toastDlg = new Toast({\r\n        text: \"生成中\"\r\n    });\r\n    toastDlg.Show();\r\n    TT.ctx.fillStyle = \"white\";\r\n    TT.ctx.fillRect(0, 0, TT.width, TT.height);\r\n    //1.title\r\n    WriteText(\"移动火柴棒\", 7.5, 1.5, 1.0);\r\n    //2.sub-title\r\n    WriteTextsH([\"班级________\", \"姓名________\", \"用时________\", \"得分________\"], 2.5, 3.5, 0.5);\r\n\r\n    //生成题目\r\n    for(let i=0;i<4;i++)\r\n    {\r\n        DrawOneLine(i);\r\n    }\r\n    \r\n    //显示\r\n    //二维码\r\n    DrawImage(pngQr, () => {\r\n        toastDlg.Close();\r\n        ShowImageDlg();\r\n    });\r\n}\r\n\r\nfunction DrawOneLine(idx){\r\n    let arrOut = [];\r\n    if(m_mode == 1){\r\n        arrOut = GenerationFormulaA();\r\n    }else if(m_mode == 2){\r\n        arrOut = GenerationFormulaTwo();\r\n    }\r\n \r\n    let x0 = 4.5 - (arrOut.length - 5)*0.3;\r\n    let y0 = 6 + idx*6;\r\n    WriteText(\"题目 \"+(idx+1)+\"：移动（ \"+m_move+\"）根火柴棒使下面的算式成立：\", 2.5, y0-1.0, 0.5);\r\n\r\n    //绘制正确公式\r\n   // DrawFormula(arrOut, x0, y0);\r\n    //移动火柴棒\r\n    let arrNew = [...arrOut];\r\n    CreateAfterFormula(arrNew);\r\n    let hei = 1.6;\r\n    if(arrNew.length >= 9) hei=1.4;\r\n    DrawFormula(arrNew, x0, y0, 1.6);\r\n}\r\n\r\nfunction GenerationFormulaA(){\r\n    let numMax = 9;\r\n    if(m_hard == 2){\r\n        numMax = 99;\r\n    }\r\n    let numA = RandomInt(0, numMax);\r\n    let numAA = SplitNumber(numA);\r\n\r\n    let numB = RandomInt(numA, numMax);\r\n    let numBB = SplitNumber(numB);\r\n\r\n    let numC = numA + numB;\r\n    let numCC = SplitNumber(numC);\r\n\r\n    let oper = RandomInt(0,1);\r\n    let arrOut = [];\r\n    if(oper == 0){\r\n        //加法\r\n        arrOut = [...numAA, 10, ...numBB, 12, ...numCC];\r\n    }\r\n    else{\r\n        //减法\r\n        arrOut = [...numCC, 11, ...numBB, 12, ...numAA];\r\n    }\r\n\r\n    return arrOut;\r\n}\r\n\r\nfunction GenerationFormulaTwo(){\r\n    let numMax = 9;\r\n    if(m_hard == 2){\r\n        numMax = 99;\r\n    }\r\n    let numA = RandomInt(1, numMax-1);\r\n    let numAA = SplitNumber(numA);\r\n\r\n    let numB = RandomInt(numA, numMax);\r\n    let numBB = SplitNumber(numB);\r\n\r\n    let numC = numA + numB;\r\n    let numCC = SplitNumber(numC);\r\n\r\n    let oper = RandomInt(0, 3);\r\n    let arrOut = [];\r\n    if(oper == 0){\r\n        let numD = RandomInt(0,numC);\r\n        let numDD = SplitNumber(numD);\r\n        let numE = numC - numD;\r\n        let numEE = SplitNumber(numE);\r\n        //加法 = 加法\r\n        arrOut = [...numAA, 10, ...numBB, 12, ...numDD, 10, ...numEE];\r\n    } else if(oper == 1){\r\n        let numD = RandomInt(0,numA);\r\n        let numDD = SplitNumber(numD);\r\n        let numE = numA - numD;\r\n        let numEE = SplitNumber(numE);\r\n        //减法 = 加法\r\n        arrOut = [...numCC, 11, ...numBB, 12, ...numDD, 10, ...numEE];\r\n    }else if(oper == 2){\r\n        let numD = RandomInt(numC, numC+10);\r\n        let numDD = SplitNumber(numD);\r\n        let numE = numD - numC;\r\n        let numEE = SplitNumber(numE);\r\n        //加法 = 减法\r\n        arrOut = [...numAA, 10, ...numBB, 12, ...numDD, 11, ...numEE];\r\n    }else if(oper == 3){\r\n        let numD = RandomInt(numA, numA+10);\r\n        let numDD = SplitNumber(numD);\r\n        let numE = numD - numA;\r\n        let numEE = SplitNumber(numE);\r\n        //减法 = 减法\r\n        arrOut = [...numCC, 11, ...numBB, 12, ...numDD, 11, ...numEE];\r\n    }\r\n\r\n    return arrOut;\r\n}\r\n\r\nfunction SplitNumber(numA) {\r\n    let numAA = [];\r\n    let numAAS =  Array.from(numA.toString());\r\n    numAAS.forEach(item=>{\r\n        numAA.push(parseInt(item));\r\n    })\r\n\r\n    return numAA;\r\n}\r\n\r\nfunction CreateAfterFormula(theArr){\r\n    for(let i=0;i<10000;i++)\r\n    {\r\n        let arrIdx = GetRandQueueInRange(m_move*2,0, theArr.length-1);\r\n        let flag = true;\r\n        for(let j=0; j < m_move;j++)\r\n        {\r\n            flag = MoveOneMatchStick(theArr, [arrIdx[m_move*j], arrIdx[m_move*j + 1]]);\r\n            if(flag == false){\r\n                break;\r\n            }\r\n        }\r\n        \r\n        if(flag){\r\n            break;\r\n        }\r\n    }\r\n}\r\n\r\nfunction MoveOneMatchStick(theArr, arrIdx){\r\n    //移动一根\r\n    let numA = theArr[arrIdx[0]];\r\n    let iModes = m_DictOptr[numA];   //0 本身移动  1:增加   2:减少\r\n    if(iModes.length == 0) return false;\r\n    //获得 单个元素 所能支持的 变化\r\n    let idx2 = RandomInt(0, iModes.length-1);\r\n    let iMode = iModes[idx2];\r\n    if(iMode == 0){\r\n        //支持自身移动\r\n        theArr[arrIdx[0]] = GetRandQueue(m_DictSelf[numA],1)[0];\r\n        return true;\r\n    }else if(iMode == 1){\r\n        //支持增加\r\n        //第二个需要支持减少\r\n        let numB = theArr[arrIdx[1]];\r\n        let iModes2 = m_DictOptr[numB];\r\n        if(iModes2.includes(2) == false){\r\n            //不含增加 就是无效\r\n            return false;\r\n        }\r\n        theArr[arrIdx[0]] = GetRandQueue(m_DictPlus[numA],1)[0];\r\n        theArr[arrIdx[1]] = GetRandQueue(m_DictMinus[numB],1)[0];\r\n        return true;\r\n    }else if(iMode == 2){\r\n        //支持减少\r\n        //第二个需要支持增加\r\n        let numB = theArr[arrIdx[1]];\r\n        let iModes2 = m_DictOptr[numB];\r\n        if(iModes2.includes(1) == false){\r\n            //不含增加 就是无效\r\n            return false;\r\n        }\r\n        theArr[arrIdx[0]] = GetRandQueue(m_DictMinus[numA],1)[0];\r\n        theArr[arrIdx[1]] = GetRandQueue(m_DictPlus[numB],1)[0];\r\n        return true;\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\n//绘制火柴棒算式\r\nfunction DrawFormula(iNums, DrawX, DrawY, Width, scale) {\r\n    scale = scale || 60;\r\n    DrawX = DrawX * scale;\r\n    DrawY = DrawY * scale;\r\n    let DrawWidth = Width*scale;\r\n    let DrawHeight = 100/60*DrawWidth;\r\n    iNums.forEach(iNum => {\r\n        if (iNum < 0) iNum = -iNum;\r\n        let [iPosX1, iWidth1] = GetPngPosition(iNum);\r\n        DrawFormulaImage(png1, [iPosX1, 0, iWidth1, 100, DrawX, DrawY, DrawWidth, DrawHeight], null);\r\n        DrawX += DrawWidth;\r\n    });\r\n\r\n}\r\n\r\nfunction GetPngPosition(iNum) {\r\n    let iStep = 14.7;\r\n    let iWidth = 61;\r\n    let iPosX = iWidth * iNum + iStep * iNum;\r\n    return [iPosX, iWidth];\r\n}\r\n\r\n//绘制图片\r\nfunction DrawFormulaImage(img0, params, cb) {\r\n    let imgObj = new Image();\r\n    imgObj.src = img0;\r\n    imgObj.onload = () => {\r\n        TT.ctx.drawImage(imgObj, ...params);\r\n        if (typeof cb == \"function\") {\r\n            cb();\r\n        }\r\n    }\r\n}\r\n\r\n//绘制图片\r\nfunction DrawImage(img0, cb) {\r\n    let imgObj = new Image();\r\n    imgObj.src = img0;\r\n    imgObj.onload = function () {\r\n        TT.ctx.drawImage(imgObj, 10, 10, 150, 150);\r\n        if (typeof cb == \"function\") {\r\n            cb();\r\n        }\r\n    }\r\n}\r\n\r\n//显示生成的题目图片，长按保存\r\nfunction ShowImageDlg() {\r\n    let strImg = \"<img \";\r\n    strImg += \"src=\" + TT.canvas.toDataURL('png', 1.0);\r\n    strImg += \" style='width:350px;height:500px;'></img>\";\r\n    let dlg1 = new Dialog({\r\n        title: \"长按图片，保存下载\",\r\n        text: strImg\r\n    });\r\n\r\n    dlg1.Show();\r\n}\r\n\r\n\r\n\r\n"]}