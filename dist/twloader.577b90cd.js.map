{"version":3,"sources":["js/twloader.js"],"names":["TW_APP_VERSION","exports","TW_LoadScriptFromVersion","script","scripts","callback","TW_SeriesLoadScripts","APP_VERSION","_typeof","Array","isArray","length","HEAD","document","getElementsByTagName","item","documentElement","s","last","recursiveLoad","i","createElement","setAttribute","onload","onreadystatechange","readyState","parentNode","removeChild","indexOf","Math","random","appendChild","TW_AddLoadEvent","func","oldonload","window"],"mappings":"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","file":"twloader.577b90cd.js","sourceRoot":"..\\src","sourcesContent":["export var TW_APP_VERSION = null;\r\nexport function TW_LoadScriptFromVersion(script, scripts, callback){\r\n    TW_SeriesLoadScripts([script], ()=>{\r\n        TW_APP_VERSION = APP_VERSION;\r\n        TW_SeriesLoadScripts(scripts, ()=>{\r\n            if(typeof(callback) == \"function\") callback();\r\n        })\r\n    })\r\n}\r\n\r\nexport function TW_SeriesLoadScripts(scripts,callback) {\r\n    if(typeof(scripts) != \"object\") var scripts = [scripts];\r\n    if(Array.isArray(scripts) && scripts.length == 0){\r\n        if(typeof(callback) == \"function\") callback();\r\n        return;\r\n    }\r\n    var HEAD = document.getElementsByTagName(\"head\").item(0) || document.documentElement;\r\n    var s = new Array(), last = scripts.length - 1, recursiveLoad = function(i) {  \r\n        s[i] = document.createElement(\"script\");\r\n        s[i].setAttribute(\"type\",\"text/javascript\");\r\n        s[i].onload = s[i].onreadystatechange = function() { \r\n            if(!/*@cc_on!@*/0 || this.readyState == \"loaded\" || this.readyState == \"complete\") {\r\n                this.onload = this.onreadystatechange = null; this.parentNode.removeChild(this); \r\n                if(i != last) recursiveLoad(i + 1); else if(typeof(callback) == \"function\") callback();\r\n            }\r\n        }\r\n        if (scripts[i].indexOf('?') > -1) {\r\n            s[i].setAttribute(\"src\",scripts[i]+'&timestamp=' + (TW_APP_VERSION || Math.random()));\r\n        }else{\r\n            s[i].setAttribute(\"src\",scripts[i]+'?timestamp=' + (TW_APP_VERSION || Math.random()));\r\n        }\r\n        HEAD.appendChild(s[i]);\r\n    };\r\n    recursiveLoad(0);\r\n }\r\n\r\n export function TW_AddLoadEvent(func) {\r\n    var oldonload = window.onload;\r\n    if (typeof window.onload != 'function') {\r\n        window.onload = func;\r\n    } else {\r\n        window.onload = function () {\r\n            oldonload();\r\n            func();\r\n        }\r\n    }\r\n}\r\n\r\n "]}