parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"EdNs":[function(require,module,exports) {
module.exports="/1.acd573a0.png";
},{}],"sWTH":[function(require,module,exports) {
module.exports="/qr.34d8e593.png";
},{}],"di03":[function(require,module,exports) {
"use strict";function t(o){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(o)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.TW_APP_VERSION=void 0,exports.TW_AddLoadEvent=r,exports.TW_LoadScriptFromVersion=e,exports.TW_SeriesLoadScripts=n;var o=exports.TW_APP_VERSION=null;function e(t,e,r){n([t],function(){exports.TW_APP_VERSION=o=APP_VERSION,n(e,function(){"function"==typeof r&&r()})})}function n(e,n){if("object"!=t(e))e=[e];if(Array.isArray(e)&&0==e.length)"function"==typeof n&&n();else{var r=document.getElementsByTagName("head").item(0)||document.documentElement,i=new Array,a=e.length-1;!function t(c){i[c]=document.createElement("script"),i[c].setAttribute("type","text/javascript"),i[c].onload=i[c].onreadystatechange=function(){this.onload=this.onreadystatechange=null,this.parentNode.removeChild(this),c!=a?t(c+1):"function"==typeof n&&n()},e[c].indexOf("?")>-1?i[c].setAttribute("src",e[c]+"&timestamp="+(o||Math.random())):i[c].setAttribute("src",e[c]+"?timestamp="+(o||Math.random())),r.appendChild(i[c])}(0)}}function r(t){var o=window.onload;"function"!=typeof window.onload?window.onload=t:window.onload=function(){o(),t()}}
},{}],"xdyW":[function(require,module,exports) {
"use strict";function r(r){return o(r)||n(r)||e(r)||t()}function t(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function e(r,t){if(r){if("string"==typeof r)return a(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);return"Object"===e&&r.constructor&&(e=r.constructor.name),"Map"===e||"Set"===e?Array.from(r):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?a(r,t):void 0}}function n(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function o(r){if(Array.isArray(r))return a(r)}function a(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function u(r,t){var e=t-r+1;return Math.floor(Math.random()*e+r)}function i(r,t,e){for(var n=[],o=0;o<r;o++){var a=u(t,e);-1==n.indexOf(a)?n.push(a):o--}return n}function f(t,e){if(!t){t=new Array;for(var n=0;n<e;n++)t[n]=n}for(var o,a=[],u=r(t);u.length>0&&a.length<=e;)o=Math.floor(Math.random()*u.length),a.push(u[o]),u.splice(o,1);return a}Object.defineProperty(exports,"__esModule",{value:!0}),exports.GetRandQueue=f,exports.GetRandQueueInRange=i,exports.RandomInt=u;
},{}],"W0i3":[function(require,module,exports) {
"use strict";function t(){return(t="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,n,r){var i=e(t,n);if(i){var o=Object.getOwnPropertyDescriptor(i,n);return o.get?o.get.call(arguments.length<3?t:r):o.value}}).apply(this,arguments)}function e(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r(t,e)}function r(t,e){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=a();return function(){var n,r=l(t);if(e){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return o(this,n)}}function o(t,e){if(e&&("object"===c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return s(t)}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p(r.key),r)}}function f(t,e,n){return e&&h(t.prototype,e),n&&h(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function p(t){var e=v(t,"string");return"symbol"===c(e)?e:String(e)}function v(t,e){if("object"!==c(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.UIBase=exports.Toast=exports.TextBox=exports.ImagePanel=exports.Dialog=exports.Button=void 0;var d=exports.UIBase=function(){function t(e){u(this,t),this.divBg=null,this.htmlObj=null,this.params=e||{text:"..."}}return f(t,[{key:"Show",value:function(){this.divBg=m.Create(),m.Attribute(this.divBg,"id","divBg"),m.ClassN(this.divBg,"graybg"),m.Add(this.divBg)}},{key:"Close",value:function(){m.Del(this.divBg)}}]),t}();d.prototype.Create=function(t){return document.createElement(t||"div")},d.prototype.Add=function(t,e){e=e||document.body,t instanceof d?e.append(t.htmlObj):e.append(t)},d.prototype.Attribute=function(t,e,n){t.setAttribute(e,n)},d.prototype.ClassN=function(t,e){t instanceof d?t.htmlObj.className+=e+" ":t.className+=e+" "},d.prototype.Del=function(t){t&&t.parentNode.removeChild(t)},d.prototype.Html=function(t,e){t.innerHTML=e},d.prototype.Click=function(t,e,n){t.addEventListener("click",function(t){t.preventDefault(),"function"==typeof n?n.bind(e)():"string"==typeof n&&e[n]()},!1)};var m=new d,y=exports.TextBox=function(t){n(r,d);var e=i(r);function r(t){var n;return u(this,r),(n=e.call(this,t)).Create(),n}return f(r,[{key:"Create",value:function(){this.htmlObj=m.Create(),m.ClassN(this.htmlObj,"textbox"),m.Html(this.htmlObj,this.params.text||"...")}}]),r}(),b=exports.Button=function(t){n(r,d);var e=i(r);function r(t){var n;return u(this,r),(n=e.call(this,t)).Create(),n}return f(r,[{key:"Create",value:function(){this.htmlObj=m.Create(),m.ClassN(this.htmlObj,"button"),m.Html(this.htmlObj,this.params.text||"but"),m.Click(this.htmlObj,this,this.params.click||this.btnRun)}},{key:"btnRun",value:function(){console.log("ui button")}}]),r}(),g=exports.ImagePanel=function(t){n(r,d);var e=i(r);function r(t){var n;return u(this,r),(n=e.call(this,t)).canvas=null,n.ctx=null,n.width=n.params.width||300,n.height=n.params.height||100,n.Create(),n}return f(r,[{key:"Create",value:function(){this.htmlObj=m.Create("canvas"),this.canvas=this.htmlObj,m.ClassN(this.canvas,"imagepanel"),this.ctx=this.canvas.getContext("2d")}},{key:"DrawL",value:function(){this.ctx.save(),this.ctx.beginPath(),this.ctx.lineWidth=2,this.ctx.strokeStyle="red",this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.stroke(),this.ctx.restore()}},{key:"DrawImage",value:function(t){var e=this,n=new Image;n.src=t,n.onload=function(){e.ctx.drawImage(n,0,0)}}},{key:"DrawImageData",value:function(t){this.ctx.putImageData(t,0,0)}},{key:"GetPNG",value:function(){return this.canvas.toDataURL("image/png")}}]),r}(),C=exports.Dialog=function(e){n(o,d);var r=i(o);function o(t){var e;return u(this,o),(e=r.call(this,t)).divForm=null,e}return f(o,[{key:"Show",value:function(){var e=this;t(l(o.prototype),"Show",this).call(this),this.divForm=m.Create(),m.Attribute(this.divForm,"id","dlgForm"),m.ClassN(this.divForm,"ttform");var n=m.Create();m.ClassN(n,"title"),m.Html(n,this.params.title||"标题"),m.Add(n,this.divForm);var r=m.Create();if(m.ClassN(r,"close"),m.Html(r,"X"),m.Click(r,this,"Close"),m.Add(r,n),this.params.content instanceof d)m.ClassN(this.params.content,"content"),m.Add(this.params.content,this.divForm);else{var i=new y({text:this.params.text||"上传中..."});m.ClassN(i,"content"),m.Add(i,this.divForm)}var s=m.Create();m.ClassN(s,"buttons"),m.Add(s,this.divForm);var a=new b({text:"Ok",click:function(t){e.btnOk()}});m.Add(a,s);var c=new b({text:"Cancel",click:function(t){e.btnCancel()}});m.Add(c,s),m.Add(this.divForm)}},{key:"Close",value:function(){t(l(o.prototype),"Close",this).call(this),m.Del(this.divForm)}},{key:"btnOk",value:function(){this.Close()}},{key:"btnCancel",value:function(){this.Close()}}]),o}(),x=exports.Toast=function(e){n(o,d);var r=i(o);function o(t){var e;return u(this,o),(e=r.call(this,t)).divForm=null,e}return f(o,[{key:"Show",value:function(){t(l(o.prototype),"Show",this).call(this),this.divForm=m.Create("div"),m.Attribute(this.divForm,"id","dlgForm"),m.ClassN(this.divForm,"ttform"),m.Html(this.divForm,this.params.text),this.divForm.style.height="100px",this.divForm.style.width="200px",m.Add(this.divForm)}},{key:"Close",value:function(){t(l(o.prototype),"Close",this).call(this),m.Del(this.divForm)}}]),o}();
},{}],"Focm":[function(require,module,exports) {
"use strict";var _=_interopRequireDefault(require("./res/1.png")),_qr=_interopRequireDefault(require("./res/qr.png")),_twloader=require("./js/twloader"),_math=require("./js/math"),_ttui=require("./js/ttui");function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _slicedToArray(t,r){return _arrayWithHoles(t)||_iterableToArrayLimit(t,r)||_unsupportedIterableToArray(t,r)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,r){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var a,n,o,i,u=[],l=!0,m=!1;try{if(o=(e=e.call(t)).next,0===r){if(Object(e)!==e)return;l=!1}else for(;!(l=(a=o.call(e)).done)&&(u.push(a.value),u.length!==r);l=!0);}catch(t){m=!0,n=t}finally{try{if(!l&&null!=e.return&&(i=e.return(),Object(i)!==i))return}finally{if(m)throw n}}return u}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?_arrayLikeToArray(t,r):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,a=new Array(r);e<r;e++)a[e]=t[e];return a}var TT={};window.game=TT,(0,_twloader.TW_AddLoadEvent)(Start);var m_DictNumber={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"+",11:"-",12:"="},m_DictSelf={0:[6,9],2:[3],3:[2,5],5:[3],6:[9,0],9:[6,0]},m_DictPlus={0:[8],1:[7],3:[9],5:[6,9],6:[8],9:[8]},m_DictMinus={6:[5],7:[1],8:[9,6,0],9:[5,3],10:[11]},m_DictOptr={0:[0,1],1:[1],2:[0],3:[0,1],4:[],5:[0,1],6:[0,1,2],7:[2],8:[2],9:[0,1,2],10:[2],11:[],12:[]};function Start(){TT.canvas=document.getElementById("board"),TT.ctx=TT.canvas.getContext("2d"),TT.width=TT.canvas.width,TT.height=TT.canvas.height,SetupBtnClick("btn1",function(){CreateA4(1)}),SetupBtnClick("btn2",function(){CreateA4(2)}),SetupBtnClick("btn3",function(){CreateA4(1,2)}),SetupBtnClick("btn4",function(){CreateA4(1,1,2)}),SetupBtnClick("btn5",function(){CreateA4(2,1,2)}),SetupBtnClick("btn6",function(){CreateA4(1,2,2)})}function SetupCanvas(t){var r=window.devicePixelRatio||1,e=t.getBoundingClientRect();t.width=e.width*r,t.height=e.height*r;var a=t.getContext("2d");return a.scale(r,r),a}function SetupBtnClick(t,r){document.getElementById(t).addEventListener("click",r)}function WriteTextsH(t,r,e,a,n){for(var o=0,i=r,u=[],l=0;l<t.length;++l){i+=o;var m=WriteText(t[l],i,e,a,n);o=t[l].length*a*.8,u.push(m)}return u}function WriteText(t,r,e,a,n){var o=a*(n=n||60)+"px";return TT.ctx.font="normal "+o+" Arial",TT.ctx.fillStyle="#000000",TT.ctx.fillText(t,r*n,e*n),{txt:t,x:r,y:e,h:a,s:n}}var m_hard=1,m_mode=1,m_move=1;function CreateA4(t,r,e){m_hard=t,m_mode=r||1,m_move=e||1;var a=new _ttui.Toast({text:"生成中"});a.Show(),TT.ctx.fillStyle="white",TT.ctx.fillRect(0,0,TT.width,TT.height),WriteText("移动火柴棒",7.5,1.5,1),WriteTextsH(["班级________","姓名________","用时________","得分________"],2.5,3.5,.5);for(var n=0;n<4;n++)DrawOneLine(n)||--n;DrawImage(_qr.default,function(){a.Close(),ShowImageDlg()})}function DrawOneLine(t){var r=[];1==m_mode?r=GenerationFormulaA():2==m_mode&&(r=GenerationFormulaTwo());var e=_toConsumableArray(r);if(CreateAfterFormula(e),CheckEqual(e))return!1;var a=4.5-.3*(r.length-5),n=6+6*t;WriteText("题目 "+(t+1)+"：移动（ "+m_move+"）根火柴棒使下面的算式成立：",2.5,n-1,.5);return e.length>=9&&1.4,DrawFormula(e,a,n,1.6),!0}function GenerationFormulaA(){var t=9;2==m_hard&&(t=99);var r=(0,_math.RandomInt)(0,t),e=SplitNumber(r),a=(0,_math.RandomInt)(r,t),n=SplitNumber(a),o=SplitNumber(r+a);return 0==(0,_math.RandomInt)(0,1)?[].concat(_toConsumableArray(e),[10],_toConsumableArray(n),[12],_toConsumableArray(o)):[].concat(_toConsumableArray(o),[11],_toConsumableArray(n),[12],_toConsumableArray(e))}function GenerationFormulaTwo(){var t=9;2==m_hard&&(t=99);var r=(0,_math.RandomInt)(1,t-1),e=SplitNumber(r),a=(0,_math.RandomInt)(r,t),n=SplitNumber(a),o=r+a,i=SplitNumber(o),u=(0,_math.RandomInt)(0,3),l=[];if(0==u){var m=(0,_math.RandomInt)(0,o),_=SplitNumber(m),c=SplitNumber(o-m);l=[].concat(_toConsumableArray(e),[10],_toConsumableArray(n),[12],_toConsumableArray(_),[10],_toConsumableArray(c))}else if(1==u){var f=(0,_math.RandomInt)(0,r),s=SplitNumber(f),d=SplitNumber(r-f);l=[].concat(_toConsumableArray(i),[11],_toConsumableArray(n),[12],_toConsumableArray(s),[10],_toConsumableArray(d))}else if(2==u){var h=(0,_math.RandomInt)(o,o+10),y=SplitNumber(h),b=SplitNumber(h-o);l=[].concat(_toConsumableArray(e),[10],_toConsumableArray(n),[12],_toConsumableArray(y),[11],_toConsumableArray(b))}else if(3==u){var v=(0,_math.RandomInt)(r,r+10),p=SplitNumber(v),T=SplitNumber(v-r);l=[].concat(_toConsumableArray(i),[11],_toConsumableArray(n),[12],_toConsumableArray(p),[11],_toConsumableArray(T))}return l}function SplitNumber(t){var r=[];return Array.from(t.toString()).forEach(function(t){r.push(parseInt(t))}),r}function CreateAfterFormula(t){for(var r=0;r<1e3;r++){for(var e=(0,_math.GetRandQueueInRange)(2*m_move,0,t.length-1),a=!0,n=0;n<m_move&&0!=(a=MoveOneMatchStick(t,[e[m_move*n],e[m_move*n+1]]));n++);if(a)break}}function MoveOneMatchStick(t,r){var e=t[r[0]],a=m_DictOptr[e];if(0==a.length)return!1;var n=a[(0,_math.RandomInt)(0,a.length-1)];if(0==n)return t[r[0]]=(0,_math.GetRandQueue)(m_DictSelf[e],1)[0],!0;if(1==n){var o=t[r[1]];return 0!=m_DictOptr[o].includes(2)&&(t[r[0]]=(0,_math.GetRandQueue)(m_DictPlus[e],1)[0],t[r[1]]=(0,_math.GetRandQueue)(m_DictMinus[o],1)[0],!0)}if(2==n){var i=t[r[1]];return 0!=m_DictOptr[i].includes(1)&&(t[r[0]]=(0,_math.GetRandQueue)(m_DictMinus[e],1)[0],t[r[1]]=(0,_math.GetRandQueue)(m_DictPlus[i],1)[0],!0)}return!1}function DrawFormula(t,r,e,a,n){r*=n=n||60,e*=n;var o=a*n,i=100/60*o;t.forEach(function(t){t<0&&(t=-t);var a=_slicedToArray(GetPngPosition(t),2),n=a[0],u=a[1];DrawFormulaImage(_.default,[n,0,u,100,r,e,o,i],null),r+=o})}function GetPngPosition(t){return[61*t+14.7*t,61]}function DrawFormulaImage(t,r,e){var a=new Image;a.src=t,a.onload=function(){var t;(t=TT.ctx).drawImage.apply(t,[a].concat(_toConsumableArray(r))),"function"==typeof e&&e()}}function DrawImage(t,r){var e=new Image;e.src=t,e.onload=function(){TT.ctx.drawImage(e,10,10,150,150),"function"==typeof r&&r()}}function ShowImageDlg(){var t="<img ";t+="src="+TT.canvas.toDataURL("png",1),t+=" style='width:350px;height:500px;'></img>",new _ttui.Dialog({title:"长按图片，保存下载",text:t}).Show()}function CheckEqual(arr1){for(var strLeft="",strRight="",flagR=!1,i=0;i<arr1.length;i++){var c1=m_DictNumber[arr1[i]];"="!=c1?flagR?strRight+=c1:strLeft+=c1:flagR=!0}return eval(strLeft)==eval(strRight)}
},{"./res/1.png":"EdNs","./res/qr.png":"sWTH","./js/twloader":"di03","./js/math":"xdyW","./js/ttui":"W0i3"}]},{},["Focm"], null)
//# sourceMappingURL=/src.f8e1e53c.js.map